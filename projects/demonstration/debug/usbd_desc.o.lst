   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"usbd_desc.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.global	USR_desc
  19              		.data
  20              		.align	2
  23              	USR_desc:
  24 0000 00000000 		.word	USBD_USR_DeviceDescriptor
  25 0004 00000000 		.word	USBD_USR_LangIDStrDescriptor
  26 0008 00000000 		.word	USBD_USR_ManufacturerStrDescriptor
  27 000c 00000000 		.word	USBD_USR_ProductStrDescriptor
  28 0010 00000000 		.word	USBD_USR_SerialStrDescriptor
  29 0014 00000000 		.word	USBD_USR_ConfigStrDescriptor
  30 0018 00000000 		.word	USBD_USR_InterfaceStrDescriptor
  31              		.global	USBD_DeviceDesc
  32              		.align	2
  35              	USBD_DeviceDesc:
  36 001c 12       		.byte	18
  37 001d 01       		.byte	1
  38 001e 00       		.byte	0
  39 001f 02       		.byte	2
  40 0020 00       		.byte	0
  41 0021 00       		.byte	0
  42 0022 00       		.byte	0
  43 0023 40       		.byte	64
  44 0024 83       		.byte	-125
  45 0025 04       		.byte	4
  46 0026 10       		.byte	16
  47 0027 57       		.byte	87
  48 0028 00       		.byte	0
  49 0029 02       		.byte	2
  50 002a 01       		.byte	1
  51 002b 02       		.byte	2
  52 002c 03       		.byte	3
  53 002d 01       		.byte	1
  54              		.global	USBD_DeviceQualifierDesc
  55 002e 0000     		.align	2
  58              	USBD_DeviceQualifierDesc:
  59 0030 0A       		.byte	10
  60 0031 06       		.byte	6
  61 0032 00       		.byte	0
  62 0033 02       		.byte	2
  63 0034 00       		.byte	0
  64 0035 00       		.byte	0
  65 0036 00       		.byte	0
  66 0037 40       		.byte	64
  67 0038 01       		.byte	1
  68 0039 00       		.byte	0
  69              		.global	USBD_LangIDDesc
  70 003a 0000     		.align	2
  73              	USBD_LangIDDesc:
  74 003c 04       		.byte	4
  75 003d 03       		.byte	3
  76 003e 09       		.byte	9
  77 003f 04       		.byte	4
  78              		.text
  79              		.align	2
  80              		.global	USBD_USR_DeviceDescriptor
  81              		.thumb
  82              		.thumb_func
  84              	USBD_USR_DeviceDescriptor:
  85              	.LFB110:
  86              		.file 1 "../usbd_desc.c"
   1:../usbd_desc.c **** /**
   2:../usbd_desc.c ****   ******************************************************************************
   3:../usbd_desc.c ****   * @file    usbd_desc.c
   4:../usbd_desc.c ****   * @author  MCD Application Team
   5:../usbd_desc.c ****   * @version V1.0.0
   6:../usbd_desc.c ****   * @date    19-September-2011
   7:../usbd_desc.c ****   * @brief   This file provides the USBD descriptors and string formating method.
   8:../usbd_desc.c ****   ******************************************************************************
   9:../usbd_desc.c ****   * @attention
  10:../usbd_desc.c ****   *
  11:../usbd_desc.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  12:../usbd_desc.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  13:../usbd_desc.c ****   * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
  14:../usbd_desc.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  15:../usbd_desc.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  16:../usbd_desc.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  17:../usbd_desc.c ****   *
  18:../usbd_desc.c ****   * <h2><center>&copy; COPYRIGHT 2011 STMicroelectronics</center></h2>
  19:../usbd_desc.c ****   ******************************************************************************
  20:../usbd_desc.c ****   */ 
  21:../usbd_desc.c **** 
  22:../usbd_desc.c **** /* Includes ------------------------------------------------------------------*/
  23:../usbd_desc.c **** #include "usbd_core.h"
  24:../usbd_desc.c **** #include "usbd_desc.h"
  25:../usbd_desc.c **** #include "usbd_req.h"
  26:../usbd_desc.c **** #include "usbd_conf.h"
  27:../usbd_desc.c **** #include "usb_regs.h"
  28:../usbd_desc.c **** 
  29:../usbd_desc.c **** /** @addtogroup STM32_USB_OTG_DEVICE_LIBRARY
  30:../usbd_desc.c ****   * @{
  31:../usbd_desc.c ****   */
  32:../usbd_desc.c **** 
  33:../usbd_desc.c **** 
  34:../usbd_desc.c **** /** @defgroup USBD_DESC 
  35:../usbd_desc.c ****   * @brief USBD descriptors module
  36:../usbd_desc.c ****   * @{
  37:../usbd_desc.c ****   */ 
  38:../usbd_desc.c **** 
  39:../usbd_desc.c **** /** @defgroup USBD_DESC_Private_TypesDefinitions
  40:../usbd_desc.c ****   * @{
  41:../usbd_desc.c ****   */ 
  42:../usbd_desc.c **** /**
  43:../usbd_desc.c ****   * @}
  44:../usbd_desc.c ****   */ 
  45:../usbd_desc.c **** 
  46:../usbd_desc.c **** 
  47:../usbd_desc.c **** /** @defgroup USBD_DESC_Private_Defines
  48:../usbd_desc.c ****   * @{
  49:../usbd_desc.c ****   */ 
  50:../usbd_desc.c **** 
  51:../usbd_desc.c **** #define USBD_VID                     0x0483
  52:../usbd_desc.c **** #define USBD_PID                     0x5710
  53:../usbd_desc.c **** 
  54:../usbd_desc.c **** #define USBD_LANGID_STRING            0x409
  55:../usbd_desc.c **** #define USBD_MANUFACTURER_STRING      "STMicroelectronics"
  56:../usbd_desc.c **** 
  57:../usbd_desc.c **** #define USBD_PRODUCT_HS_STRING        "Joystick in HS mode"
  58:../usbd_desc.c **** #define USBD_SERIALNUMBER_HS_STRING   "00000000011B"
  59:../usbd_desc.c **** 
  60:../usbd_desc.c **** #define USBD_PRODUCT_FS_STRING        "Joystick in FS Mode"
  61:../usbd_desc.c **** #define USBD_SERIALNUMBER_FS_STRING   "00000000011C"
  62:../usbd_desc.c **** 
  63:../usbd_desc.c **** #define USBD_CONFIGURATION_HS_STRING  "HID Config"
  64:../usbd_desc.c **** #define USBD_INTERFACE_HS_STRING      "HID Interface"
  65:../usbd_desc.c **** 
  66:../usbd_desc.c **** #define USBD_CONFIGURATION_FS_STRING  "HID Config"
  67:../usbd_desc.c **** #define USBD_INTERFACE_FS_STRING      "HID Interface"
  68:../usbd_desc.c **** /**
  69:../usbd_desc.c ****   * @}
  70:../usbd_desc.c ****   */ 
  71:../usbd_desc.c **** 
  72:../usbd_desc.c **** 
  73:../usbd_desc.c **** /** @defgroup USBD_DESC_Private_Macros
  74:../usbd_desc.c ****   * @{
  75:../usbd_desc.c ****   */ 
  76:../usbd_desc.c **** /**
  77:../usbd_desc.c ****   * @}
  78:../usbd_desc.c ****   */ 
  79:../usbd_desc.c **** 
  80:../usbd_desc.c **** 
  81:../usbd_desc.c **** /** @defgroup USBD_DESC_Private_Variables
  82:../usbd_desc.c ****   * @{
  83:../usbd_desc.c ****   */ 
  84:../usbd_desc.c **** 
  85:../usbd_desc.c **** USBD_DEVICE USR_desc =
  86:../usbd_desc.c **** {
  87:../usbd_desc.c ****   USBD_USR_DeviceDescriptor,
  88:../usbd_desc.c ****   USBD_USR_LangIDStrDescriptor, 
  89:../usbd_desc.c ****   USBD_USR_ManufacturerStrDescriptor,
  90:../usbd_desc.c ****   USBD_USR_ProductStrDescriptor,
  91:../usbd_desc.c ****   USBD_USR_SerialStrDescriptor,
  92:../usbd_desc.c ****   USBD_USR_ConfigStrDescriptor,
  93:../usbd_desc.c ****   USBD_USR_InterfaceStrDescriptor,
  94:../usbd_desc.c ****   
  95:../usbd_desc.c **** };
  96:../usbd_desc.c **** 
  97:../usbd_desc.c **** #ifdef USB_OTG_HS_INTERNAL_DMA_ENABLED
  98:../usbd_desc.c ****   #if defined ( __ICCARM__ ) /*!< IAR Compiler */
  99:../usbd_desc.c ****     #pragma data_alignment=4   
 100:../usbd_desc.c ****   #endif
 101:../usbd_desc.c **** #endif /* USB_OTG_HS_INTERNAL_DMA_ENABLED */
 102:../usbd_desc.c **** /* USB Standard Device Descriptor */
 103:../usbd_desc.c **** __ALIGN_BEGIN uint8_t USBD_DeviceDesc[USB_SIZ_DEVICE_DESC] __ALIGN_END =
 104:../usbd_desc.c ****   {
 105:../usbd_desc.c ****     0x12,                       /*bLength */
 106:../usbd_desc.c ****     USB_DEVICE_DESCRIPTOR_TYPE, /*bDescriptorType*/
 107:../usbd_desc.c ****     0x00,                       /*bcdUSB */
 108:../usbd_desc.c ****     0x02,
 109:../usbd_desc.c ****     0x00,                       /*bDeviceClass*/
 110:../usbd_desc.c ****     0x00,                       /*bDeviceSubClass*/
 111:../usbd_desc.c ****     0x00,                       /*bDeviceProtocol*/
 112:../usbd_desc.c ****     USB_OTG_MAX_EP0_SIZE,      /*bMaxPacketSize*/
 113:../usbd_desc.c ****     LOBYTE(USBD_VID),           /*idVendor*/
 114:../usbd_desc.c ****     HIBYTE(USBD_VID),           /*idVendor*/
 115:../usbd_desc.c ****     LOBYTE(USBD_PID),           /*idVendor*/
 116:../usbd_desc.c ****     HIBYTE(USBD_PID),           /*idVendor*/
 117:../usbd_desc.c ****     0x00,                       /*bcdDevice rel. 2.00*/
 118:../usbd_desc.c ****     0x02,
 119:../usbd_desc.c ****     USBD_IDX_MFC_STR,           /*Index of manufacturer  string*/
 120:../usbd_desc.c ****     USBD_IDX_PRODUCT_STR,       /*Index of product string*/
 121:../usbd_desc.c ****     USBD_IDX_SERIAL_STR,        /*Index of serial number string*/
 122:../usbd_desc.c ****     USBD_CFG_MAX_NUM            /*bNumConfigurations*/
 123:../usbd_desc.c ****   } ; /* USB_DeviceDescriptor */
 124:../usbd_desc.c **** 
 125:../usbd_desc.c **** #ifdef USB_OTG_HS_INTERNAL_DMA_ENABLED
 126:../usbd_desc.c ****   #if defined ( __ICCARM__ ) /*!< IAR Compiler */
 127:../usbd_desc.c ****     #pragma data_alignment=4   
 128:../usbd_desc.c ****   #endif
 129:../usbd_desc.c **** #endif /* USB_OTG_HS_INTERNAL_DMA_ENABLED */
 130:../usbd_desc.c **** /* USB Standard Device Descriptor */
 131:../usbd_desc.c **** __ALIGN_BEGIN uint8_t USBD_DeviceQualifierDesc[USB_LEN_DEV_QUALIFIER_DESC] __ALIGN_END =
 132:../usbd_desc.c **** {
 133:../usbd_desc.c ****   USB_LEN_DEV_QUALIFIER_DESC,
 134:../usbd_desc.c ****   USB_DESC_TYPE_DEVICE_QUALIFIER,
 135:../usbd_desc.c ****   0x00,
 136:../usbd_desc.c ****   0x02,
 137:../usbd_desc.c ****   0x00,
 138:../usbd_desc.c ****   0x00,
 139:../usbd_desc.c ****   0x00,
 140:../usbd_desc.c ****   0x40,
 141:../usbd_desc.c ****   0x01,
 142:../usbd_desc.c ****   0x00,
 143:../usbd_desc.c **** };
 144:../usbd_desc.c **** 
 145:../usbd_desc.c **** #ifdef USB_OTG_HS_INTERNAL_DMA_ENABLED
 146:../usbd_desc.c ****   #if defined ( __ICCARM__ ) /*!< IAR Compiler */
 147:../usbd_desc.c ****     #pragma data_alignment=4   
 148:../usbd_desc.c ****   #endif
 149:../usbd_desc.c **** #endif /* USB_OTG_HS_INTERNAL_DMA_ENABLED */
 150:../usbd_desc.c **** /* USB Standard Device Descriptor */
 151:../usbd_desc.c **** __ALIGN_BEGIN uint8_t USBD_LangIDDesc[USB_SIZ_STRING_LANGID] __ALIGN_END =
 152:../usbd_desc.c **** {
 153:../usbd_desc.c ****      USB_SIZ_STRING_LANGID,         
 154:../usbd_desc.c ****      USB_DESC_TYPE_STRING,       
 155:../usbd_desc.c ****      LOBYTE(USBD_LANGID_STRING),
 156:../usbd_desc.c ****      HIBYTE(USBD_LANGID_STRING), 
 157:../usbd_desc.c **** };
 158:../usbd_desc.c **** /**
 159:../usbd_desc.c ****   * @}
 160:../usbd_desc.c ****   */ 
 161:../usbd_desc.c **** 
 162:../usbd_desc.c **** 
 163:../usbd_desc.c **** /** @defgroup USBD_DESC_Private_FunctionPrototypes
 164:../usbd_desc.c ****   * @{
 165:../usbd_desc.c ****   */ 
 166:../usbd_desc.c **** /**
 167:../usbd_desc.c ****   * @}
 168:../usbd_desc.c ****   */ 
 169:../usbd_desc.c **** 
 170:../usbd_desc.c **** 
 171:../usbd_desc.c **** /** @defgroup USBD_DESC_Private_Functions
 172:../usbd_desc.c ****   * @{
 173:../usbd_desc.c ****   */ 
 174:../usbd_desc.c **** 
 175:../usbd_desc.c **** /**
 176:../usbd_desc.c **** * @brief  USBD_USR_DeviceDescriptor 
 177:../usbd_desc.c **** *         return the device descriptor
 178:../usbd_desc.c **** * @param  speed : current device speed
 179:../usbd_desc.c **** * @param  length : pointer to data length variable
 180:../usbd_desc.c **** * @retval pointer to descriptor buffer
 181:../usbd_desc.c **** */
 182:../usbd_desc.c **** uint8_t *  USBD_USR_DeviceDescriptor( uint8_t speed , uint16_t *length)
 183:../usbd_desc.c **** {
  87              		.loc 1 183 0
  88              		.cfi_startproc
  89              		@ args = 0, pretend = 0, frame = 8
  90              		@ frame_needed = 1, uses_anonymous_args = 0
  91              		@ link register save eliminated.
  92 0000 80B4     		push	{r7}
  93              	.LCFI0:
  94              		.cfi_def_cfa_offset 4
  95              		.cfi_offset 7, -4
  96 0002 83B0     		sub	sp, sp, #12
  97              	.LCFI1:
  98              		.cfi_def_cfa_offset 16
  99 0004 00AF     		add	r7, sp, #0
 100              	.LCFI2:
 101              		.cfi_def_cfa_register 7
 102 0006 0346     		mov	r3, r0
 103 0008 3960     		str	r1, [r7, #0]
 104 000a FB71     		strb	r3, [r7, #7]
 184:../usbd_desc.c ****   *length = sizeof(USBD_DeviceDesc);
 105              		.loc 1 184 0
 106 000c 3B68     		ldr	r3, [r7, #0]
 107 000e 4FF01202 		mov	r2, #18
 108 0012 1A80     		strh	r2, [r3, #0]	@ movhi
 185:../usbd_desc.c ****   return USBD_DeviceDesc;
 109              		.loc 1 185 0
 110 0014 40F20003 		movw	r3, #:lower16:USBD_DeviceDesc
 111 0018 C0F20003 		movt	r3, #:upper16:USBD_DeviceDesc
 186:../usbd_desc.c **** }
 112              		.loc 1 186 0
 113 001c 1846     		mov	r0, r3
 114 001e 07F10C07 		add	r7, r7, #12
 115 0022 BD46     		mov	sp, r7
 116 0024 80BC     		pop	{r7}
 117 0026 7047     		bx	lr
 118              		.cfi_endproc
 119              	.LFE110:
 121              		.align	2
 122              		.global	USBD_USR_LangIDStrDescriptor
 123              		.thumb
 124              		.thumb_func
 126              	USBD_USR_LangIDStrDescriptor:
 127              	.LFB111:
 187:../usbd_desc.c **** 
 188:../usbd_desc.c **** /**
 189:../usbd_desc.c **** * @brief  USBD_USR_LangIDStrDescriptor 
 190:../usbd_desc.c **** *         return the LangID string descriptor
 191:../usbd_desc.c **** * @param  speed : current device speed
 192:../usbd_desc.c **** * @param  length : pointer to data length variable
 193:../usbd_desc.c **** * @retval pointer to descriptor buffer
 194:../usbd_desc.c **** */
 195:../usbd_desc.c **** uint8_t *  USBD_USR_LangIDStrDescriptor( uint8_t speed , uint16_t *length)
 196:../usbd_desc.c **** {
 128              		.loc 1 196 0
 129              		.cfi_startproc
 130              		@ args = 0, pretend = 0, frame = 8
 131              		@ frame_needed = 1, uses_anonymous_args = 0
 132              		@ link register save eliminated.
 133 0028 80B4     		push	{r7}
 134              	.LCFI3:
 135              		.cfi_def_cfa_offset 4
 136              		.cfi_offset 7, -4
 137 002a 83B0     		sub	sp, sp, #12
 138              	.LCFI4:
 139              		.cfi_def_cfa_offset 16
 140 002c 00AF     		add	r7, sp, #0
 141              	.LCFI5:
 142              		.cfi_def_cfa_register 7
 143 002e 0346     		mov	r3, r0
 144 0030 3960     		str	r1, [r7, #0]
 145 0032 FB71     		strb	r3, [r7, #7]
 197:../usbd_desc.c ****   *length =  sizeof(USBD_LangIDDesc);  
 146              		.loc 1 197 0
 147 0034 3B68     		ldr	r3, [r7, #0]
 148 0036 4FF00402 		mov	r2, #4
 149 003a 1A80     		strh	r2, [r3, #0]	@ movhi
 198:../usbd_desc.c ****   return USBD_LangIDDesc;
 150              		.loc 1 198 0
 151 003c 40F20003 		movw	r3, #:lower16:USBD_LangIDDesc
 152 0040 C0F20003 		movt	r3, #:upper16:USBD_LangIDDesc
 199:../usbd_desc.c **** }
 153              		.loc 1 199 0
 154 0044 1846     		mov	r0, r3
 155 0046 07F10C07 		add	r7, r7, #12
 156 004a BD46     		mov	sp, r7
 157 004c 80BC     		pop	{r7}
 158 004e 7047     		bx	lr
 159              		.cfi_endproc
 160              	.LFE111:
 162              		.section	.rodata
 163              		.align	2
 164              	.LC0:
 165 0000 4A6F7973 		.ascii	"Joystick in HS mode\000"
 165      7469636B 
 165      20696E20 
 165      4853206D 
 165      6F646500 
 166              		.align	2
 167              	.LC1:
 168 0014 4A6F7973 		.ascii	"Joystick in FS Mode\000"
 168      7469636B 
 168      20696E20 
 168      4653204D 
 168      6F646500 
 169              		.text
 170              		.align	2
 171              		.global	USBD_USR_ProductStrDescriptor
 172              		.thumb
 173              		.thumb_func
 175              	USBD_USR_ProductStrDescriptor:
 176              	.LFB112:
 200:../usbd_desc.c **** 
 201:../usbd_desc.c **** 
 202:../usbd_desc.c **** /**
 203:../usbd_desc.c **** * @brief  USBD_USR_ProductStrDescriptor 
 204:../usbd_desc.c **** *         return the product string descriptor
 205:../usbd_desc.c **** * @param  speed : current device speed
 206:../usbd_desc.c **** * @param  length : pointer to data length variable
 207:../usbd_desc.c **** * @retval pointer to descriptor buffer
 208:../usbd_desc.c **** */
 209:../usbd_desc.c **** uint8_t *  USBD_USR_ProductStrDescriptor( uint8_t speed , uint16_t *length)
 210:../usbd_desc.c **** {
 177              		.loc 1 210 0
 178              		.cfi_startproc
 179              		@ args = 0, pretend = 0, frame = 8
 180              		@ frame_needed = 1, uses_anonymous_args = 0
 181 0050 80B5     		push	{r7, lr}
 182              	.LCFI6:
 183              		.cfi_def_cfa_offset 8
 184              		.cfi_offset 14, -4
 185              		.cfi_offset 7, -8
 186 0052 82B0     		sub	sp, sp, #8
 187              	.LCFI7:
 188              		.cfi_def_cfa_offset 16
 189 0054 00AF     		add	r7, sp, #0
 190              	.LCFI8:
 191              		.cfi_def_cfa_register 7
 192 0056 0346     		mov	r3, r0
 193 0058 3960     		str	r1, [r7, #0]
 194 005a FB71     		strb	r3, [r7, #7]
 211:../usbd_desc.c ****  
 212:../usbd_desc.c ****   
 213:../usbd_desc.c ****   if(speed == 0)
 195              		.loc 1 213 0
 196 005c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 197 005e 002B     		cmp	r3, #0
 198 0060 0BD1     		bne	.L4
 214:../usbd_desc.c ****   {   
 215:../usbd_desc.c ****     USBD_GetString (USBD_PRODUCT_HS_STRING, USBD_StrDesc, length);
 199              		.loc 1 215 0
 200 0062 40F20000 		movw	r0, #:lower16:.LC0
 201 0066 C0F20000 		movt	r0, #:upper16:.LC0
 202 006a 40F20001 		movw	r1, #:lower16:USBD_StrDesc
 203 006e C0F20001 		movt	r1, #:upper16:USBD_StrDesc
 204 0072 3A68     		ldr	r2, [r7, #0]
 205 0074 FFF7FEFF 		bl	USBD_GetString
 206 0078 0AE0     		b	.L5
 207              	.L4:
 216:../usbd_desc.c ****   }
 217:../usbd_desc.c ****   else
 218:../usbd_desc.c ****   {
 219:../usbd_desc.c ****     USBD_GetString (USBD_PRODUCT_FS_STRING, USBD_StrDesc, length);    
 208              		.loc 1 219 0
 209 007a 40F20000 		movw	r0, #:lower16:.LC1
 210 007e C0F20000 		movt	r0, #:upper16:.LC1
 211 0082 40F20001 		movw	r1, #:lower16:USBD_StrDesc
 212 0086 C0F20001 		movt	r1, #:upper16:USBD_StrDesc
 213 008a 3A68     		ldr	r2, [r7, #0]
 214 008c FFF7FEFF 		bl	USBD_GetString
 215              	.L5:
 220:../usbd_desc.c ****   }
 221:../usbd_desc.c ****   return USBD_StrDesc;
 216              		.loc 1 221 0
 217 0090 40F20003 		movw	r3, #:lower16:USBD_StrDesc
 218 0094 C0F20003 		movt	r3, #:upper16:USBD_StrDesc
 222:../usbd_desc.c **** }
 219              		.loc 1 222 0
 220 0098 1846     		mov	r0, r3
 221 009a 07F10807 		add	r7, r7, #8
 222 009e BD46     		mov	sp, r7
 223 00a0 80BD     		pop	{r7, pc}
 224              		.cfi_endproc
 225              	.LFE112:
 227              		.section	.rodata
 228              		.align	2
 229              	.LC2:
 230 0028 53544D69 		.ascii	"STMicroelectronics\000"
 230      63726F65 
 230      6C656374 
 230      726F6E69 
 230      637300
 231              		.text
 232 00a2 00BF     		.align	2
 233              		.global	USBD_USR_ManufacturerStrDescriptor
 234              		.thumb
 235              		.thumb_func
 237              	USBD_USR_ManufacturerStrDescriptor:
 238              	.LFB113:
 223:../usbd_desc.c **** 
 224:../usbd_desc.c **** /**
 225:../usbd_desc.c **** * @brief  USBD_USR_ManufacturerStrDescriptor 
 226:../usbd_desc.c **** *         return the manufacturer string descriptor
 227:../usbd_desc.c **** * @param  speed : current device speed
 228:../usbd_desc.c **** * @param  length : pointer to data length variable
 229:../usbd_desc.c **** * @retval pointer to descriptor buffer
 230:../usbd_desc.c **** */
 231:../usbd_desc.c **** uint8_t *  USBD_USR_ManufacturerStrDescriptor( uint8_t speed , uint16_t *length)
 232:../usbd_desc.c **** {
 239              		.loc 1 232 0
 240              		.cfi_startproc
 241              		@ args = 0, pretend = 0, frame = 8
 242              		@ frame_needed = 1, uses_anonymous_args = 0
 243 00a4 80B5     		push	{r7, lr}
 244              	.LCFI9:
 245              		.cfi_def_cfa_offset 8
 246              		.cfi_offset 14, -4
 247              		.cfi_offset 7, -8
 248 00a6 82B0     		sub	sp, sp, #8
 249              	.LCFI10:
 250              		.cfi_def_cfa_offset 16
 251 00a8 00AF     		add	r7, sp, #0
 252              	.LCFI11:
 253              		.cfi_def_cfa_register 7
 254 00aa 0346     		mov	r3, r0
 255 00ac 3960     		str	r1, [r7, #0]
 256 00ae FB71     		strb	r3, [r7, #7]
 233:../usbd_desc.c ****   USBD_GetString (USBD_MANUFACTURER_STRING, USBD_StrDesc, length);
 257              		.loc 1 233 0
 258 00b0 40F20000 		movw	r0, #:lower16:.LC2
 259 00b4 C0F20000 		movt	r0, #:upper16:.LC2
 260 00b8 40F20001 		movw	r1, #:lower16:USBD_StrDesc
 261 00bc C0F20001 		movt	r1, #:upper16:USBD_StrDesc
 262 00c0 3A68     		ldr	r2, [r7, #0]
 263 00c2 FFF7FEFF 		bl	USBD_GetString
 234:../usbd_desc.c ****   return USBD_StrDesc;
 264              		.loc 1 234 0
 265 00c6 40F20003 		movw	r3, #:lower16:USBD_StrDesc
 266 00ca C0F20003 		movt	r3, #:upper16:USBD_StrDesc
 235:../usbd_desc.c **** }
 267              		.loc 1 235 0
 268 00ce 1846     		mov	r0, r3
 269 00d0 07F10807 		add	r7, r7, #8
 270 00d4 BD46     		mov	sp, r7
 271 00d6 80BD     		pop	{r7, pc}
 272              		.cfi_endproc
 273              	.LFE113:
 275              		.section	.rodata
 276 003b 00       		.align	2
 277              	.LC3:
 278 003c 30303030 		.ascii	"00000000011B\000"
 278      30303030 
 278      30313142 
 278      00
 279 0049 000000   		.align	2
 280              	.LC4:
 281 004c 30303030 		.ascii	"00000000011C\000"
 281      30303030 
 281      30313143 
 281      00
 282              		.text
 283              		.align	2
 284              		.global	USBD_USR_SerialStrDescriptor
 285              		.thumb
 286              		.thumb_func
 288              	USBD_USR_SerialStrDescriptor:
 289              	.LFB114:
 236:../usbd_desc.c **** 
 237:../usbd_desc.c **** /**
 238:../usbd_desc.c **** * @brief  USBD_USR_SerialStrDescriptor 
 239:../usbd_desc.c **** *         return the serial number string descriptor
 240:../usbd_desc.c **** * @param  speed : current device speed
 241:../usbd_desc.c **** * @param  length : pointer to data length variable
 242:../usbd_desc.c **** * @retval pointer to descriptor buffer
 243:../usbd_desc.c **** */
 244:../usbd_desc.c **** uint8_t *  USBD_USR_SerialStrDescriptor( uint8_t speed , uint16_t *length)
 245:../usbd_desc.c **** {
 290              		.loc 1 245 0
 291              		.cfi_startproc
 292              		@ args = 0, pretend = 0, frame = 8
 293              		@ frame_needed = 1, uses_anonymous_args = 0
 294 00d8 80B5     		push	{r7, lr}
 295              	.LCFI12:
 296              		.cfi_def_cfa_offset 8
 297              		.cfi_offset 14, -4
 298              		.cfi_offset 7, -8
 299 00da 82B0     		sub	sp, sp, #8
 300              	.LCFI13:
 301              		.cfi_def_cfa_offset 16
 302 00dc 00AF     		add	r7, sp, #0
 303              	.LCFI14:
 304              		.cfi_def_cfa_register 7
 305 00de 0346     		mov	r3, r0
 306 00e0 3960     		str	r1, [r7, #0]
 307 00e2 FB71     		strb	r3, [r7, #7]
 246:../usbd_desc.c ****   if(speed  == USB_OTG_SPEED_HIGH)
 308              		.loc 1 246 0
 309 00e4 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 310 00e6 002B     		cmp	r3, #0
 311 00e8 0BD1     		bne	.L8
 247:../usbd_desc.c ****   {    
 248:../usbd_desc.c ****     USBD_GetString (USBD_SERIALNUMBER_HS_STRING, USBD_StrDesc, length);
 312              		.loc 1 248 0
 313 00ea 40F20000 		movw	r0, #:lower16:.LC3
 314 00ee C0F20000 		movt	r0, #:upper16:.LC3
 315 00f2 40F20001 		movw	r1, #:lower16:USBD_StrDesc
 316 00f6 C0F20001 		movt	r1, #:upper16:USBD_StrDesc
 317 00fa 3A68     		ldr	r2, [r7, #0]
 318 00fc FFF7FEFF 		bl	USBD_GetString
 319 0100 0AE0     		b	.L9
 320              	.L8:
 249:../usbd_desc.c ****   }
 250:../usbd_desc.c ****   else
 251:../usbd_desc.c ****   {
 252:../usbd_desc.c ****     USBD_GetString (USBD_SERIALNUMBER_FS_STRING, USBD_StrDesc, length);    
 321              		.loc 1 252 0
 322 0102 40F20000 		movw	r0, #:lower16:.LC4
 323 0106 C0F20000 		movt	r0, #:upper16:.LC4
 324 010a 40F20001 		movw	r1, #:lower16:USBD_StrDesc
 325 010e C0F20001 		movt	r1, #:upper16:USBD_StrDesc
 326 0112 3A68     		ldr	r2, [r7, #0]
 327 0114 FFF7FEFF 		bl	USBD_GetString
 328              	.L9:
 253:../usbd_desc.c ****   }
 254:../usbd_desc.c ****   return USBD_StrDesc;
 329              		.loc 1 254 0
 330 0118 40F20003 		movw	r3, #:lower16:USBD_StrDesc
 331 011c C0F20003 		movt	r3, #:upper16:USBD_StrDesc
 255:../usbd_desc.c **** }
 332              		.loc 1 255 0
 333 0120 1846     		mov	r0, r3
 334 0122 07F10807 		add	r7, r7, #8
 335 0126 BD46     		mov	sp, r7
 336 0128 80BD     		pop	{r7, pc}
 337              		.cfi_endproc
 338              	.LFE114:
 340              		.section	.rodata
 341 0059 000000   		.align	2
 342              	.LC5:
 343 005c 48494420 		.ascii	"HID Config\000"
 343      436F6E66 
 343      696700
 344              		.text
 345 012a 00BF     		.align	2
 346              		.global	USBD_USR_ConfigStrDescriptor
 347              		.thumb
 348              		.thumb_func
 350              	USBD_USR_ConfigStrDescriptor:
 351              	.LFB115:
 256:../usbd_desc.c **** 
 257:../usbd_desc.c **** /**
 258:../usbd_desc.c **** * @brief  USBD_USR_ConfigStrDescriptor 
 259:../usbd_desc.c **** *         return the configuration string descriptor
 260:../usbd_desc.c **** * @param  speed : current device speed
 261:../usbd_desc.c **** * @param  length : pointer to data length variable
 262:../usbd_desc.c **** * @retval pointer to descriptor buffer
 263:../usbd_desc.c **** */
 264:../usbd_desc.c **** uint8_t *  USBD_USR_ConfigStrDescriptor( uint8_t speed , uint16_t *length)
 265:../usbd_desc.c **** {
 352              		.loc 1 265 0
 353              		.cfi_startproc
 354              		@ args = 0, pretend = 0, frame = 8
 355              		@ frame_needed = 1, uses_anonymous_args = 0
 356 012c 80B5     		push	{r7, lr}
 357              	.LCFI15:
 358              		.cfi_def_cfa_offset 8
 359              		.cfi_offset 14, -4
 360              		.cfi_offset 7, -8
 361 012e 82B0     		sub	sp, sp, #8
 362              	.LCFI16:
 363              		.cfi_def_cfa_offset 16
 364 0130 00AF     		add	r7, sp, #0
 365              	.LCFI17:
 366              		.cfi_def_cfa_register 7
 367 0132 0346     		mov	r3, r0
 368 0134 3960     		str	r1, [r7, #0]
 369 0136 FB71     		strb	r3, [r7, #7]
 266:../usbd_desc.c ****   if(speed  == USB_OTG_SPEED_HIGH)
 370              		.loc 1 266 0
 371 0138 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 372 013a 002B     		cmp	r3, #0
 373 013c 0BD1     		bne	.L11
 267:../usbd_desc.c ****   {  
 268:../usbd_desc.c ****     USBD_GetString (USBD_CONFIGURATION_HS_STRING, USBD_StrDesc, length);
 374              		.loc 1 268 0
 375 013e 40F20000 		movw	r0, #:lower16:.LC5
 376 0142 C0F20000 		movt	r0, #:upper16:.LC5
 377 0146 40F20001 		movw	r1, #:lower16:USBD_StrDesc
 378 014a C0F20001 		movt	r1, #:upper16:USBD_StrDesc
 379 014e 3A68     		ldr	r2, [r7, #0]
 380 0150 FFF7FEFF 		bl	USBD_GetString
 381 0154 0AE0     		b	.L12
 382              	.L11:
 269:../usbd_desc.c ****   }
 270:../usbd_desc.c ****   else
 271:../usbd_desc.c ****   {
 272:../usbd_desc.c ****     USBD_GetString (USBD_CONFIGURATION_FS_STRING, USBD_StrDesc, length); 
 383              		.loc 1 272 0
 384 0156 40F20000 		movw	r0, #:lower16:.LC5
 385 015a C0F20000 		movt	r0, #:upper16:.LC5
 386 015e 40F20001 		movw	r1, #:lower16:USBD_StrDesc
 387 0162 C0F20001 		movt	r1, #:upper16:USBD_StrDesc
 388 0166 3A68     		ldr	r2, [r7, #0]
 389 0168 FFF7FEFF 		bl	USBD_GetString
 390              	.L12:
 273:../usbd_desc.c ****   }
 274:../usbd_desc.c ****   return USBD_StrDesc;  
 391              		.loc 1 274 0
 392 016c 40F20003 		movw	r3, #:lower16:USBD_StrDesc
 393 0170 C0F20003 		movt	r3, #:upper16:USBD_StrDesc
 275:../usbd_desc.c **** }
 394              		.loc 1 275 0
 395 0174 1846     		mov	r0, r3
 396 0176 07F10807 		add	r7, r7, #8
 397 017a BD46     		mov	sp, r7
 398 017c 80BD     		pop	{r7, pc}
 399              		.cfi_endproc
 400              	.LFE115:
 402              		.section	.rodata
 403 0067 00       		.align	2
 404              	.LC6:
 405 0068 48494420 		.ascii	"HID Interface\000"
 405      496E7465 
 405      72666163 
 405      6500
 406 0076 0000     		.text
 407 017e 00BF     		.align	2
 408              		.global	USBD_USR_InterfaceStrDescriptor
 409              		.thumb
 410              		.thumb_func
 412              	USBD_USR_InterfaceStrDescriptor:
 413              	.LFB116:
 276:../usbd_desc.c **** 
 277:../usbd_desc.c **** 
 278:../usbd_desc.c **** /**
 279:../usbd_desc.c **** * @brief  USBD_USR_InterfaceStrDescriptor 
 280:../usbd_desc.c **** *         return the interface string descriptor
 281:../usbd_desc.c **** * @param  speed : current device speed
 282:../usbd_desc.c **** * @param  length : pointer to data length variable
 283:../usbd_desc.c **** * @retval pointer to descriptor buffer
 284:../usbd_desc.c **** */
 285:../usbd_desc.c **** uint8_t *  USBD_USR_InterfaceStrDescriptor( uint8_t speed , uint16_t *length)
 286:../usbd_desc.c **** {
 414              		.loc 1 286 0
 415              		.cfi_startproc
 416              		@ args = 0, pretend = 0, frame = 8
 417              		@ frame_needed = 1, uses_anonymous_args = 0
 418 0180 80B5     		push	{r7, lr}
 419              	.LCFI18:
 420              		.cfi_def_cfa_offset 8
 421              		.cfi_offset 14, -4
 422              		.cfi_offset 7, -8
 423 0182 82B0     		sub	sp, sp, #8
 424              	.LCFI19:
 425              		.cfi_def_cfa_offset 16
 426 0184 00AF     		add	r7, sp, #0
 427              	.LCFI20:
 428              		.cfi_def_cfa_register 7
 429 0186 0346     		mov	r3, r0
 430 0188 3960     		str	r1, [r7, #0]
 431 018a FB71     		strb	r3, [r7, #7]
 287:../usbd_desc.c ****   if(speed == 0)
 432              		.loc 1 287 0
 433 018c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 434 018e 002B     		cmp	r3, #0
 435 0190 0BD1     		bne	.L14
 288:../usbd_desc.c ****   {
 289:../usbd_desc.c ****     USBD_GetString (USBD_INTERFACE_HS_STRING, USBD_StrDesc, length);
 436              		.loc 1 289 0
 437 0192 40F20000 		movw	r0, #:lower16:.LC6
 438 0196 C0F20000 		movt	r0, #:upper16:.LC6
 439 019a 40F20001 		movw	r1, #:lower16:USBD_StrDesc
 440 019e C0F20001 		movt	r1, #:upper16:USBD_StrDesc
 441 01a2 3A68     		ldr	r2, [r7, #0]
 442 01a4 FFF7FEFF 		bl	USBD_GetString
 443 01a8 0AE0     		b	.L15
 444              	.L14:
 290:../usbd_desc.c ****   }
 291:../usbd_desc.c ****   else
 292:../usbd_desc.c ****   {
 293:../usbd_desc.c ****     USBD_GetString (USBD_INTERFACE_FS_STRING, USBD_StrDesc, length);
 445              		.loc 1 293 0
 446 01aa 40F20000 		movw	r0, #:lower16:.LC6
 447 01ae C0F20000 		movt	r0, #:upper16:.LC6
 448 01b2 40F20001 		movw	r1, #:lower16:USBD_StrDesc
 449 01b6 C0F20001 		movt	r1, #:upper16:USBD_StrDesc
 450 01ba 3A68     		ldr	r2, [r7, #0]
 451 01bc FFF7FEFF 		bl	USBD_GetString
 452              	.L15:
 294:../usbd_desc.c ****   }
 295:../usbd_desc.c ****   return USBD_StrDesc;  
 453              		.loc 1 295 0
 454 01c0 40F20003 		movw	r3, #:lower16:USBD_StrDesc
 455 01c4 C0F20003 		movt	r3, #:upper16:USBD_StrDesc
 296:../usbd_desc.c **** }
 456              		.loc 1 296 0
 457 01c8 1846     		mov	r0, r3
 458 01ca 07F10807 		add	r7, r7, #8
 459 01ce BD46     		mov	sp, r7
 460 01d0 80BD     		pop	{r7, pc}
 461              		.cfi_endproc
 462              	.LFE116:
 464              	.Letext0:
 465              		.file 2 "/Users/josefvanniekerk/Developer/Cross/arm-cs-tools-2012.03-56-e3f4013-20130305/lib/gcc/a
 466              		.file 3 "/Users/josefvanniekerk/Projects/stm32f4-discovery/projects/demonstration/../../libraries/
 467              		.file 4 "/Users/josefvanniekerk/Projects/stm32f4-discovery/projects/demonstration/../../libraries/
 468              		.file 5 "../usbd_desc.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 usbd_desc.c
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:23     .data:0000000000000000 USR_desc
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:20     .data:0000000000000000 $d
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:84     .text:0000000000000000 USBD_USR_DeviceDescriptor
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:126    .text:0000000000000028 USBD_USR_LangIDStrDescriptor
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:237    .text:00000000000000a4 USBD_USR_ManufacturerStrDescriptor
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:175    .text:0000000000000050 USBD_USR_ProductStrDescriptor
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:288    .text:00000000000000d8 USBD_USR_SerialStrDescriptor
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:350    .text:000000000000012c USBD_USR_ConfigStrDescriptor
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:412    .text:0000000000000180 USBD_USR_InterfaceStrDescriptor
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:35     .data:000000000000001c USBD_DeviceDesc
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:58     .data:0000000000000030 USBD_DeviceQualifierDesc
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:73     .data:000000000000003c USBD_LangIDDesc
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:79     .text:0000000000000000 $t
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:163    .rodata:0000000000000000 $d
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:164    .rodata:0000000000000000 .LC0
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:167    .rodata:0000000000000014 .LC1
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:229    .rodata:0000000000000028 .LC2
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:277    .rodata:000000000000003c .LC3
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:280    .rodata:000000000000004c .LC4
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:342    .rodata:000000000000005c .LC5
/var/folders/29/q4vqrldx53dd1j615jflh8h40000gn/T//ccEICa5M.s:404    .rodata:0000000000000068 .LC6
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
USBD_StrDesc
USBD_GetString
